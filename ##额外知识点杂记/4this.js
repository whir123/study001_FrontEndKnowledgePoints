// â­ï¸ this | ä¸€ä¸ªå…³é”®å­— ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡å¼•ç”¨ ã€Œè¿è¡Œæ—¶ã€ç»‘å®š
// ã€é—­åŒ… => å‡½æ•°+å…¶è¯æ³•çŽ¯å¢ƒçš„å¼•ç”¨ è®°ä½ä»–è¢«ã€Œåˆ›å»ºæ—¶ã€çš„ä½œç”¨åŸŸã€‘

// 1ï¸âƒ£ é»˜è®¤ç»‘å®š éžä¸¥æ ¼æ¨¡å¼ => window ï½œ ä¸¥æ ¼æ¨¡å¼ => undefined
// 2ï¸âƒ£ éšå¼ç»‘å®š å‡½æ•°ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ã€Œè¢«è°ƒç”¨ã€ï½œ æŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡æœ¬èº«
// 3ï¸âƒ£ æ˜¾å¼ç»‘å®š call / apply / bind
// 4ï¸âƒ£ newç»‘å®š ä½¿ç”¨newå…³é”®å­—ã€Œè°ƒç”¨å‡½æ•°ï¼ˆæž„é€ å‡½æ•°ï¼‰ã€ï½œ æŒ‡å‘ä¸€ä¸ªæ–°ç©ºå¯¹è±¡
// 5ï¸âƒ£ ç‰¹æ®ŠåŠŸæ³• ç®­å¤´å‡½æ•° => æ²¡æœ‰è‡ªå·±çš„thisç»‘å®š ï½œ ã€Œå®šä¹‰æ—¶ã€çš„è¯æ³•ä½œç”¨åŸŸå†³å®š ï½œ ä¸€æ—¦ç»‘å®šä¸å¯è¢«callç­‰æ›´æ”¹

const obj = {
    name: 'lzk',
    regularFn: function(){
        console.log('1',this.name); 
        const arrowFn1 = ()=>{console.log('2',this.name);};
        // âš ï¸ æ•èŽ·äº† regular çš„ this ã€æ•èŽ·ã€Œå®šä¹‰æ—¶ã€çš„çŽ¯å¢ƒ è€Œéžã€Œè°ƒç”¨æ—¶ã€ã€‘
        arrowFn1();
    },
    arrowFn2: ()=>{console.log('3',this.name);} // âš ï¸ è¿™é‡ŒæŒ‡å‘å…¨å±€å¯¹è±¡
};
obj.regularFn(); // 1 lzk // 2 lzk
obj.arrowFn2(); // 3 undefined

// 6ï¸âƒ£ setTimeout ä¸­çš„ this

const obj2 = {
    name: 'MyTimer',
    start1() { // âš ï¸ ç­‰ä»·äºŽ start1: function() {...}
        // ðŸŸ¢ ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•ï¼šå‡½æ•°start1 çš„thisæŒ‡å‘è°ƒç”¨è€…obj2
        // ðŸŸ¢ ä½† setTimeout é‡Œçš„å›žè°ƒå‡½æ•°æ˜¯ã€Œæ™®é€šå‡½æ•°ï¼ˆéžç®­å¤´å‡½æ•°ï¼‰ã€ å®ƒçš„thisä¸¢å¤±äº†ä¸Šä¸‹æ–‡ é»˜è®¤ç»‘å®šå…¨å±€å¯¹è±¡
        setTimeout(function(){
            console.log('1',this.name);
        },300);
    },
    start2() {
        // ðŸŸ¢ ç®­å¤´å‡½æ•°thisæ°¸è¿œå–å†³äºŽå®šä¹‰æ—¶çš„å¤–å±‚ä½œç”¨åŸŸï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰ä¸ä¼šè¢«è°ƒç”¨æ–¹å¼å½±å“
        // ðŸŸ¢ ã€è§£å†³å›žè°ƒå‡½æ•°thisä¸¢å¤±é—®é¢˜çš„æœ€ä½³å®žè·µã€‘
        setTimeout(()=>{
            console.log('2',this.name);
        },500);
    },
};
obj2.start1(); // 1 undefined
obj2.start2(); // 2 MyTimer